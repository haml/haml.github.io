<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: FAQ
  
    &mdash; Haml Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "FAQ";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: FAQ</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="frequently-asked-questions">Frequently Asked Questions</h1>

<h2 id="haml">Haml</h2>

<h3 id="why-is-my-markup-indented-properly-in-development-mode-but-not-in-production">Why is my markup indented properly in development mode, but not in production?</h3>
<p>#q-indentation-in-production</p>

<p>To improve performance, Haml defaults to <span class='object_link'><a href="Haml/Options.html#ugly-instance_method" title="Haml::Options#ugly (method)">“ugly” mode</a></span> in
Rails apps running in production.</p>

<h3 id="how-do-i-put-a-punctuation-mark-after-an-element-like-i-like-strongcakestrong">How do I put a punctuation mark after an element, like “<code>I like &lt;strong&gt;cake&lt;/strong&gt;!</code>”?</h3>
<p>#q-punctuation</p>

<p>Expressing the structure of a document
and expressing inline formatting are two very different problems.
Haml is mostly designed for structure,
so the best way to deal with formatting is to leave it to other languages
that are designed for it.
You could use Textile:</p>

<pre class="code ruby"><code class="ruby">%p
  :textile
    I like *cake*!
</code></pre>

<p>or Markdown:</p>

<pre class="code ruby"><code class="ruby">%p
  :markdown
    I like **cake**!
</code></pre>

<p>or plain old XHTML:</p>

<pre class="code ruby"><code class="ruby">%p I like &lt;strong&gt;cake&lt;/strong&gt;!
</code></pre>

<p>If you’re inserting something that’s generated by a helper, like a link,
then it’s even easier:</p>

<pre class="code ruby"><code class="ruby">%p== I like #{link_to 'chocolate', 'http://franschocolates.com'}!
</code></pre>

<h3 id="how-do-i-stop-haml-from-indenting-the-contents-of-my-pre-and-textarea-tags">How do I stop Haml from indenting the contents of my <code>pre</code> and <code>textarea</code> tags?</h3>
<p>#q-preserve</p>

<p>Because Haml automatically indents the HTML source code,
the contents of whitespace-sensitive tags like <code>pre</code> and <code>textarea</code>
can get screwed up.
The solution is to replace the newlines inside these tags
with HTML newline entities (<code>&amp;#x000A;</code>),
which Haml does using the <span class='object_link'><a href="Haml/Helpers.html#preserve-instance_method" title="Haml::Helpers#preserve (method)">Haml::Helpers#preserve</a></span> and <span class='object_link'><a href="Haml/Helpers.html#find_and_preserve-instance_method" title="Haml::Helpers#find_and_preserve (method)">Haml::Helpers#find_and_preserve</a></span> helpers.</p>

<p>Normally, Haml will do this for you automatically
when you’re using a tag that needs it
(this can be customized using the <span class='object_link'><a href="Haml/Options.html#preserve-instance_method" title="Haml::Options#preserve (method)"><code>:preserve</code></a></span> option).
For example,</p>

<pre class="code ruby"><code class="ruby">%p
  %textarea= "Foo\nBar"
</code></pre>

<p>will be compiled to</p>

<pre class="code ruby"><code class="ruby">&lt;p&gt;
  &lt;textarea&gt;
Foo&amp;#x000A;Bar&lt;/textarea&gt;
&lt;/p&gt;
</code></pre>

<p>However, if a helper is generating the tag,
Haml can’t detect that and so you’ll have to call <span class='object_link'><a href="Haml/Helpers.html#find_and_preserve-instance_method" title="Haml::Helpers#find_and_preserve (method)">Haml::Helpers#find_and_preserve</a></span> yourself.
You can also use <code>~</code>, which is the same as <code>=</code>
except that it automatically runs <code>find_and_preserve</code> on its input.
For example:</p>

<pre class="code ruby"><code class="ruby">%p= find_and_preserve "&lt;textarea&gt;Foo\nBar&lt;/textarea&gt;"
</code></pre>

<p>is the same as</p>

<pre class="code ruby"><code class="ruby">%p~ "&lt;textarea&gt;Foo\nBar&lt;/textarea&gt;"
</code></pre>

<p>and renders</p>

<pre class="code ruby"><code class="ruby">&lt;p&gt;&lt;textarea&gt;Foo&amp;#x000A;Bar&lt;/textarea&gt;&lt;/p&gt;
</code></pre>

<h3 id="how-do-i-make-my-long-lines-of-ruby-code-look-nicer-in-my-haml-document">How do I make my long lines of Ruby code look nicer in my Haml document?</h3>
<p>#q-multiline</p>

<p>Put them in a helper or your model.</p>

<p>Haml purposefully makes it annoying to put lots of Ruby code into your templates,
because lots of code doesn’t belong in the view.
If you take that huge <code>link_to_remote</code> call
and move it to a <code>update_sidebar_link</code> helper,
it’ll make your view both easier to read and more semantic.</p>

<p>If you absolutely must put lots of code in your template,
Haml offers a somewhat awkward multiline-continuation tool.
Put a <code>|</code> (pipe character) at the end of each line you want to be merged into one
(including the last line!).
For example:</p>

<pre class="code ruby"><code class="ruby">%p= @this.is(way.too.much). |
    code("and I should").   |
    really_move.it.into(    |
      :a =&gt; @helper)        |
</code></pre>

<p>Note that sometimes it is valid to include lots of Ruby in a template
when that Ruby is a helper call that passes in a lot of template information.
Thus when a function has lots of arguments,
it’s possible to wrap it across multiple lines
as long as each line ends in a comma.
For example:</p>

<pre class="code ruby"><code class="ruby">= link_to_remote "Add to cart",
    :url =&gt; { :action =&gt; "add", :id =&gt; product.id },
    :update =&gt; { :success =&gt; "cart", :failure =&gt; "error" }
</code></pre>

<h3 id="formfor-is-printing-the-form-tag-twice"><code>form_for</code> is printing the form tag twice!</h3>

<p>Make sure you’re calling it with <code>-</code>, not <code>=</code>.
Just like in ERB, you have to do</p>

<pre class="code ruby"><code class="ruby">&lt;% form_for stuff do %&gt;
  ...
&lt;% end %&gt;
</code></pre>

<p>in Haml, you have to do</p>

<pre class="code ruby"><code class="ruby">- form_for stuff do
  ...
</code></pre>

<h3 id="i-have-haml-installed-why-is-rails-only-looking-for-htmlerb-files--rendering-haml-files-as-plain-text--rendering-haml-files-as-blank-pages">I have Haml installed. Why is Rails (only looking for <code>.html.erb</code> files | rendering Haml files as plain text | rendering Haml files as blank pages)?</h3>
<p>#q-blank-page</p>

<p>There are several reasons these things might be happening.
First of all, make sure that Haml really is installed;
either you’ve loaded the gem (via <code>config.gem</code> in Rails 2.3 or in the Gemfile in Rails 3),
or <code>vendor/plugins/haml</code> exists and contains files.
Then try restarting Mongrel or WEBrick or whatever you might be using.</p>

<p>Finally, if none of these work,
chances are you’ve got some localization plugin like Globalize installed.
Such plugins often don’t play nicely with Haml.
Luckily, there’s usually an easy fix.
For Globalize, just edit <code>globalize/lib/globalize/rails/action_view.rb</code>
and change</p>

<pre class="code ruby"><code class="ruby">@@re_extension = /\.(rjs|rhtml|rxml)$/
</code></pre>

<p>to</p>

<pre class="code ruby"><code class="ruby">@@re_extension = /\.(rjs|rhtml|rxml|erb|builder|haml)$/
</code></pre>

<p>For other plugins, a little searching will probably turn up a way to fix them as well.</p>

<h2 id="you-still-havent-answered-my-question">You still haven’t answered my question!</h2>

<p>Sorry! Try looking at the <a href="http://haml.info/docs/yardoc/file.REFERENCE.html">Haml</a> reference,
If you can’t find an answer there,
feel free to ask in <code>#haml</code> on irc.freenode.net
or send an email to the <a href="http://groups.google.com/group/haml">mailing list</a>.</p>
</div></div>

      <div id="footer">
  Generated on Thu Apr 27 20:23:59 2017 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.9 (ruby-2.5.0).
</div>


  <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-3592613-6");
  pageTracker._trackPageview();
  } catch(err) {}</script>


    </div>
  </body>
</html>